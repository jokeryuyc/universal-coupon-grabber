# Universal Coupon Grabber 测试指南

## 🎯 测试概述

本目录包含了Universal Coupon Grabber插件的完整测试方案，包括自动化测试脚本、手动测试检查清单和测试计划文档。

## 📁 文件说明

| 文件 | 说明 |
|------|------|
| `TEST_PLAN.md` | 详细的测试计划和测试用例 |
| `MANUAL_TEST_CHECKLIST.md` | 手动测试检查清单 |
| `test-runner.js` | 自动化测试脚本 |
| `quick-test.js` | 快速功能验证脚本 |
| `README.md` | 测试指南（本文件） |

## 🚀 快速开始

### 1. 快速功能验证

如果您想快速验证插件的基本功能是否正常，请按以下步骤操作：

```bash
# 1. 安装插件到Chrome
# 2. 访问任意网站（建议访问支持的网站）
# 3. 打开浏览器控制台 (F12)
# 4. 在控制台中粘贴并执行以下代码：
```

```javascript
// 加载快速测试脚本
const script = document.createElement('script');
script.src = chrome.runtime.getURL('tests/quick-test.js');
document.head.appendChild(script);
```

**预期结果**: 控制台会显示测试进度和结果，最后显示测试报告。

### 2. 完整功能测试

对于完整的功能测试，请按照以下步骤：

1. **阅读测试计划**: 查看 `TEST_PLAN.md` 了解详细的测试用例
2. **执行手动测试**: 按照 `MANUAL_TEST_CHECKLIST.md` 逐项检查
3. **运行自动化测试**: 使用 `test-runner.js` 进行自动化测试

## 📋 测试类型

### 🔧 功能测试
- 插件安装和配置
- 用户界面交互
- 网络请求监听
- 签名适配器
- 任务调度和执行

### 🌐 网站兼容性测试
- 美团 (meituan.com)
- 淘宝 (taobao.com)
- 天猫 (tmall.com)
- 京东 (jd.com)
- 拼多多 (pinduoduo.com)

### ⚡ 性能测试
- 内存使用情况
- 响应时间
- 长时间运行稳定性

### 🔗 集成测试
- 端到端抢券流程
- 多任务并发执行
- 错误恢复机制

## 🧪 测试环境要求

### 浏览器要求
- Chrome 88+ (推荐)
- Edge 88+ (兼容性测试)

### 系统要求
- Windows 10/11
- macOS 10.15+
- Ubuntu 20.04+

### 网络要求
- 稳定的互联网连接
- 能够访问测试网站

### 账号要求
- 美团账号
- 淘宝账号
- 京东账号
- 拼多多账号

## 📝 手动测试步骤

### 步骤1: 环境准备
1. 确保Chrome浏览器版本符合要求
2. 下载插件源码到本地
3. 准备测试账号

### 步骤2: 插件安装
1. 打开 `chrome://extensions/`
2. 开启"开发者模式"
3. 加载插件文件夹
4. 验证安装成功

### 步骤3: 基础功能测试
1. 点击插件图标测试UI
2. 访问设置页面
3. 测试各项基础功能

### 步骤4: 网站兼容性测试
1. 逐个访问支持的网站
2. 测试网络监听功能
3. 验证签名适配器
4. 测试任务创建和执行

### 步骤5: 性能测试
1. 监控内存使用
2. 测试响应时间
3. 长时间运行测试

## 🤖 自动化测试

### 运行自动化测试

```javascript
// 在支持的网站页面控制台中执行
const testRunner = new TestRunner();
testRunner.runAllTests();
```

### 测试覆盖范围
- ✅ 基础功能测试
- ✅ 网络监听测试
- ✅ 签名适配器测试
- ✅ 任务调度测试
- ✅ 集成测试

## 📊 测试报告

### 测试结果记录
每次测试完成后，请记录以下信息：
- 测试日期和时间
- 测试环境信息
- 测试结果统计
- 发现的问题
- 改进建议

### 问题报告格式
```markdown
## 问题描述
简要描述发现的问题

## 复现步骤
1. 步骤一
2. 步骤二
3. 步骤三

## 预期结果
描述预期的正确行为

## 实际结果
描述实际观察到的行为

## 环境信息
- 浏览器版本:
- 操作系统:
- 插件版本:
- 测试网站:

## 严重程度
- [ ] 严重 (功能无法使用)
- [ ] 一般 (功能受影响)
- [ ] 轻微 (体验问题)
```

## 🔍 常见问题排查

### 插件无法加载
**症状**: 插件图标不出现或显示错误
**排查步骤**:
1. 检查Chrome版本是否符合要求
2. 确认开发者模式已开启
3. 查看控制台错误信息
4. 重新加载插件

### 网络监听不工作
**症状**: 无法自动发现API请求
**排查步骤**:
1. 确认已启动"开始捕获"
2. 检查网站是否在支持列表中
3. 刷新页面重试
4. 查看控制台错误

### 签名失败
**症状**: 请求被服务器拒绝
**排查步骤**:
1. 确认已登录相应网站
2. 检查签名对象是否存在
3. 验证Cookie信息
4. 尝试刷新页面

### 任务执行失败
**症状**: 任务状态显示失败
**排查步骤**:
1. 检查网络连接
2. 验证请求参数
3. 查看执行日志
4. 调整重试参数

## 📞 获取帮助

如果在测试过程中遇到问题，可以通过以下方式获取帮助：

- 📖 查看项目文档: `README.md`, `USAGE_GUIDE.md`
- 🐛 提交问题: https://github.com/jokeryuyc/universal-coupon-grabber/issues
- 💬 参与讨论: https://github.com/jokeryuyc/universal-coupon-grabber/discussions

## 🎯 测试最佳实践

### 测试前准备
1. 仔细阅读测试计划
2. 准备完整的测试环境
3. 确保网络连接稳定
4. 备份重要数据

### 测试执行
1. 按照检查清单逐项测试
2. 详细记录测试结果
3. 及时报告发现的问题
4. 保存测试证据（截图、日志）

### 测试后处理
1. 整理测试报告
2. 分析问题原因
3. 提出改进建议
4. 跟踪问题修复

---

**祝您测试顺利！如有问题请及时反馈。** 🎉
